{
    "LMApiVersion": "3",
    "appliesTo": "dbcag.company && dbcag.lmaccess.id && dbcag.lmaccess.key",
    "auditVersion": 0,
    "autoDiscoveryConfig": null,
    "checksum": "3616e1638eea28536efc7e08145cc9ca",
    "collectInterval": 120,
    "collectMethod": "script",
    "collectorAttribute": {
        "groovyScript": "collect",
        "linuxCmdline": "--company ##dbcag.company## --access_id ##dbcag.lmaccess.id## --access_key ##dbcag.lmaccess.key## -s -d -1",
        "linuxScript": "AutoCollectorGrouping.py",
        "name": "script",
        "scriptType": "file",
        "windowsCmdline": "",
        "windowsScript": ""
    },
    "coretools_format": "ds meV1",
    "dataPoints": [
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "Total number of collectors evaluated.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "c",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "c",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of Collectors whose dynamic group had alerting switched from disabled to enabled because the Collector is no longer in SDT.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "c_alert_d2e",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "c_alert_d2e",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of Collectors whose dynamic group had alerting switched from enabled to disabled because the Collector is now in SDT.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "c_alert_e2d",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "c_alert_e2d",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of collectors that are in SDT",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "c_disabled",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "c_disabled",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of collectors not in SDT",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "c_enabled",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "c_enabled",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of Collector specific dynamic groups that had to be created.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "collector_dynamic_group_created",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "collector_dynamic_group_created",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "The number of Collector group resources groups that had to be created by the script.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "collector_group_group_created",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "collector_group_group_created",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 4,
            "description": "",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "exit_code",
            "postProcessorMethod": "none",
            "postProcessorParam": "",
            "rawDataFieldName": "exitCode",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 7,
            "description": "1 if the \"/Devices by Collector\" group doesn't exist and the script has to build it. 0 otherwise.",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "parent_group_created",
            "postProcessorMethod": "namevalue",
            "postProcessorParam": "parent_group_created",
            "rawDataFieldName": "output",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        },
        {
            "adAdvSettingEnabled": false,
            "alertBody": "",
            "alertClearTransitionInterval": 0,
            "alertExpr": "",
            "alertExprNote": "",
            "alertForNoData": 1,
            "alertSubject": "",
            "alertTransitionInterval": 0,
            "criticalAdAdvSetting": "",
            "dataType": 4,
            "description": "",
            "enableAnomalyAlertSuppression": "",
            "errorAdAdvSetting": "",
            "maxDigits": 4,
            "maxValue": "",
            "minValue": "",
            "name": "runtime",
            "postProcessorMethod": "none",
            "postProcessorParam": "",
            "rawDataFieldName": "responseTime",
            "type": 2,
            "userParam1": "",
            "userParam2": "",
            "userParam3": "",
            "warnAdAdvSetting": ""
        }
    ],
    "description": "Automatically creates/updates a \"Devices by Collector\" group under the root. Under that, creates/updates groups mimicking the Collector groups (from the Collectors page). Under those, creates/updates a dynamic group for each Collector with AppliesTo to include devices monitored by that Collector. Also sync's SDT from Collector to the devices that Collector monitors by disabling alerting on the Collector dynamic group.",
    "displayName": "Devices by Collector Auto Groups",
    "enableAutoDiscovery": false,
    "enableEriDiscovery": false,
    "eriDiscoveryConfig": null,
    "eriDiscoveryInterval": -1,
    "graphs": [
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "exit_code",
                    "name": "exit_code"
                }
            ],
            "displayPrio": 10,
            "height": 120,
            "lines": [
                {
                    "colorName": "silver",
                    "dataPointName": "exit_code",
                    "isVirtualDataPoint": false,
                    "legend": "Exit Code",
                    "type": 1
                }
            ],
            "maxValue": 2.0,
            "minValue": -1.0,
            "name": "Code Execution Status",
            "rigid": false,
            "timeScale": "1day",
            "title": "Code Execution Status",
            "verticalLabel": "0=Success, 1=Failure, -1=Timeout",
            "virtualDataPoints": [],
            "width": 360
        },
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "c",
                    "name": "c"
                }
            ],
            "displayPrio": 1,
            "height": 120,
            "lines": [
                {
                    "colorName": "silver",
                    "dataPointName": "c",
                    "isVirtualDataPoint": false,
                    "legend": "Collectors",
                    "type": 1
                }
            ],
            "maxValue": "NaN",
            "minValue": 0.0,
            "name": "Collector Count",
            "rigid": false,
            "timeScale": "1day",
            "title": "Collector Count",
            "verticalLabel": "count",
            "virtualDataPoints": [],
            "width": 360
        },
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "c_disabled",
                    "name": "c_disabled"
                },
                {
                    "consolidateFunc": 1,
                    "dpName": "c_enabled",
                    "name": "c_enabled"
                }
            ],
            "displayPrio": 1,
            "height": 120,
            "lines": [
                {
                    "colorName": "orange",
                    "dataPointName": "c_disabled",
                    "isVirtualDataPoint": false,
                    "legend": "In SDT",
                    "type": 3
                },
                {
                    "colorName": "silver",
                    "dataPointName": "c_enabled",
                    "isVirtualDataPoint": false,
                    "legend": "Not in SDT",
                    "type": 3
                }
            ],
            "maxValue": "NaN",
            "minValue": 0.0,
            "name": "Collector SDT Count",
            "rigid": false,
            "timeScale": "1day",
            "title": "Collector SDT Count",
            "verticalLabel": "count",
            "virtualDataPoints": [],
            "width": 360
        },
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "collector_dynamic_group_created",
                    "name": "collector_dynamic_group_created"
                },
                {
                    "consolidateFunc": 1,
                    "dpName": "collector_group_group_created",
                    "name": "collector_group_group_created"
                },
                {
                    "consolidateFunc": 1,
                    "dpName": "parent_group_created",
                    "name": "parent_group_created"
                }
            ],
            "displayPrio": 1,
            "height": 120,
            "lines": [
                {
                    "colorName": "green",
                    "dataPointName": "collector_dynamic_group_created",
                    "isVirtualDataPoint": false,
                    "legend": "Collector Specific Dynamic Group",
                    "type": 1
                },
                {
                    "colorName": "fuchsia",
                    "dataPointName": "collector_group_group_created",
                    "isVirtualDataPoint": false,
                    "legend": "Collector Group",
                    "type": 1
                },
                {
                    "colorName": "silver",
                    "dataPointName": "parent_group_created",
                    "isVirtualDataPoint": false,
                    "legend": "Parent Group",
                    "type": 1
                }
            ],
            "maxValue": "NaN",
            "minValue": 0.0,
            "name": "Groups Created",
            "rigid": false,
            "timeScale": "1day",
            "title": "Groups Created",
            "verticalLabel": "count",
            "virtualDataPoints": [],
            "width": 360
        },
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "runtime",
                    "name": "runtime"
                }
            ],
            "displayPrio": 10,
            "height": 120,
            "lines": [
                {
                    "colorName": "silver",
                    "dataPointName": "runtime",
                    "isVirtualDataPoint": false,
                    "legend": "Response Time",
                    "type": 1
                }
            ],
            "maxValue": "NaN",
            "minValue": 0.0,
            "name": "Response Time",
            "rigid": false,
            "timeScale": "1day",
            "title": "Response Time",
            "verticalLabel": "ms",
            "virtualDataPoints": [],
            "width": 360
        },
        {
            "base1024": false,
            "dataPoints": [
                {
                    "consolidateFunc": 1,
                    "dpName": "c_alert_d2e",
                    "name": "c_alert_d2e"
                },
                {
                    "consolidateFunc": 1,
                    "dpName": "c_alert_e2d",
                    "name": "c_alert_e2d"
                }
            ],
            "displayPrio": 1,
            "height": 120,
            "lines": [
                {
                    "colorName": "silver",
                    "dataPointName": "c_alert_d2e",
                    "isVirtualDataPoint": false,
                    "legend": "Disabled to Enabled",
                    "type": 1
                },
                {
                    "colorName": "olive",
                    "dataPointName": "c_alert_e2d",
                    "isVirtualDataPoint": false,
                    "legend": "Enabled to Disabled",
                    "type": 1
                }
            ],
            "maxValue": "NaN",
            "minValue": 0.0,
            "name": "SDT Synchronization",
            "rigid": false,
            "timeScale": "1day",
            "title": "SDT Synchronization",
            "verticalLabel": "count",
            "virtualDataPoints": [],
            "width": 360
        }
    ],
    "group": "_WeenigWare LM Stats",
    "hasMultiInstances": false,
    "lineageId": "tT3x3HpYT3uzvVwu8IUlpA",
    "name": "Devices_by_Collector_Auto_Groups",
    "overviewgraphs": [],
    "tags": "",
    "technology": "Requires Python3 and the logicmonitor_sdk library, which isn't installed on the collector by default. Every time it runs, the script will attempt to install it if it's missing, then exit. The second run should be successful if the installation was successful."
}